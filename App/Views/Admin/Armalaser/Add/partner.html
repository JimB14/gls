{% extends 'base-admin.html' %}

{% block title %}
  Add Partner | ArmaLaser
{% endblock %}

{% block css %}
<style>
.form-control:focus {
  border-color: transparent !important;
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(255, 0, 0, 0.6);
}

.glyphicon-remove {
    color: #ff0000;
}
.glyphicon-ok {
    color: #228b22;
}
.help-block {
    color: #ff0000 !important;
}
</style>
{% endblock %}


{% block content %}
<div class="container-fluid">
    <div class="row">
        <div id="dashboard-toggle" class="col-md-8" style="margin-top:-20px;margin-left:254px;margin-bottom: 80px;">

          <h2>Add Partner</h2>
          <p style="font-size: 15px;"><<<a href="/admin/partners/get-partners"> All partners</a></p>
          <hr>

              <form name="add-partner-form" id="add-partner-form" class="form-horizontal"
                  action="/admin/partners/post-partner" method="post" >

                 <!-- honeypot -->
                 <input type="hidden" name="honeypot_register" id="honeypot_register">
                 <input type="hidden" name="type" value="partner">

                 <div class="form-group has-feedback">
                     <label for="partner_company" class="control-label col-sm-2">
                       Company
                     </label>
                     <div class="col-sm-8">
                         <input type="text" class="form-control" name="partner_company"
                             id="partner_company" placeholder="Company name" autofocus>
                             <span class="glyphicon form-control-feedback" id="partner_company1"></span>
                     </div>
                 </div>

                  <div class="form-group has-feedback">
                      <label for="partner_first_name" class="control-label col-sm-2">
                          First name
                      </label>
                      <div class="col-sm-8">
                          <input type="text" class="form-control" name="partner_first_name"
                              id="partner_first_name" placeholder="First name">
                              <span class="glyphicon form-control-feedback" id="partner_first_name1"></span>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="partner_last_name" class="control-label col-sm-2">
                        Last name
                      </label>
                      <div class="col-sm-8">
                          <input type="text" class="form-control" name="partner_last_name"
                              id="partner_last_name" placeholder="Last name">
                              <span class="glyphicon form-control-feedback" id="partner_last_name1"></span>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="partner_email" class="control-label col-sm-2">
                        Email
                      </label>
                      <div class="col-sm-8">
                          <input type="email" class="form-control email" name="partner_email"
                              id="partner_email" placeholder="user@example.com">
                              <span class="glyphicon form-control-feedback" id="partner_email1"></span>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="partner_confirm_email" class="control-label col-sm-2">
                          Confirm email
                      </label>
                      <div class="col-sm-8">
                          <input type="email" class="form-control" name="partner_confirm_email"
                              id="partner_confirm_email" placeholder="user@example.com">
                              <span class="glyphicon form-control-feedback" id="partner_confirm_email1"></span>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="partner_phone" class="control-label col-sm-2">
                        Telephone
                      </label>
                      <div class="col-sm-8">
                          <input type="text" class="form-control" name="partner_phone"
                              id="partner_phone" placeholder="Telephone">
                              <span class="glyphicon form-control-feedback" id="partner_phone1"></span>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="partner_address" class="control-label col-sm-2">
                        Address
                      </label>
                      <div class="col-sm-8">
                          <input type="text" class="form-control" name="partner_address"
                              id="partner_address" placeholder="Address">
                              <span class="glyphicon form-control-feedback" id="partner_address1"></span>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="partner_city" class="control-label col-sm-2">
                        City
                      </label>
                      <div class="col-sm-8">
                          <input type="text" class="form-control" name="partner_city"
                              id="partner_city" placeholder="City">
                              <span class="glyphicon form-control-feedback" id="partner_city1"></span>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="partner_state"  class="control-label col-sm-2">State</label>
                      <div class="col-sm-8">
                          <select class="form-control required" id="partner_state" name="partner_state">
                              <option value="">Select state</option>
                              {% for state in states %}
                                  <option value="{{ state.abbrev }}">{{ state.name }}</option>
                              {% endfor %}
                          </select>
                          <span class="glyphicon form-control-feedback" id="partner_state1"></span>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="partner_zip" class="control-label col-sm-2">
                        Zip code
                      </label>
                      <div class="col-sm-8">
                          <input type="text" class="form-control" name="partner_zip"
                              id="partner_zip" placeholder="Zip code">
                              <span class="glyphicon form-control-feedback" id="partner_zip1"></span>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="partner_website" class="control-label col-sm-2">
                        Website
                      </label>
                      <div class="col-sm-8">
                          <input type="text" class="form-control" name="partner_website"
                              id="partner_website" placeholder="e.g. www.mywebsite.com or mywebsite.com">
                              <span class="glyphicon form-control-feedback" id="partner_website1"></span>
                              <help><i>*Check carefully for spelling errors</i></help>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="partner_map_url" class="control-label col-sm-2">
                        Map URL
                      </label>
                      <div class="col-sm-8">
                          <input type="text" class="form-control" name="partner_map_url"
                              id="partner_map_url" placeholder="">
                              <span class="glyphicon form-control-feedback" id="partner_map_url1"></span>
                              <help>
                                  <span style="padding-right: 20px;">
                                      *<a class="newWindow" href="https://www.google.com/maps/place/{{ partner.address }}+{{ partner.city }}+{{ partner.state }}+{{ partner.zip }}" title="Search on Google">
                                          Search address on Google Maps
                                      </a>
                                      <span>(Click "SHARE" then "COPY LINK" to copy shortened URL)</span>
                                  </span>
                                  <br>
                                  <span>
                                      *<a class="newWindow" href="https://bitly.com/" title="Go to Bitly" target="_blank">
                                          Option: Shorten URL @ Bitly.com where URLs can be saved in your account (free)
                                      </a>
                                  </span>
                              </help>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="partner_password" class="control-label col-sm-2">
                        Password
                      </label>
                      <div class="col-sm-8">
                          <input type="password" class="form-control" name="partner_password"
                              id="partner_password" placeholder="Serves as temporary password, e.g. 123456">
                              <span class="glyphicon form-control-feedback" id="partner_password1"></span>
                              <help><i>*partner can change password by using "Forgot Password" link on partner Login page</i></help>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="partner_confirm_password" class="control-label col-sm-2">
                          Verify password
                      </label>
                      <div class="col-sm-8">
                          <input type="password" class="form-control" name="partner_confirm_password"
                              id="partner_confirm_password" placeholder="Verify password">
                              <span class="glyphicon form-control-feedback" id="partner_confirm_password1"></span>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="partner_auth_code" class="control-label col-sm-2">
                        Authorization code
                      </label>
                      <div class="col-sm-8">
                          <input type="text" class="form-control" name="partner_auth_code"
                              id="partner_auth_code" placeholder="partner authorization code">
                              <span class="glyphicon form-control-feedback" id="partner_auth_code1"></span>
                      </div>

                  </div>

                  <div class="col-sm-offset-2 col-sm-8">
                      <button style="display:inline-block; margin-bottom: 10px;"
                          id="registerBtn" type="submit" class="btn btn-lg btn-buy">
                          Register
                      </button>
                      <p>
                          *After submission, the partner account will be activated.
                          At first login, the partner will be taken to the security
                          questions page to complete the registration.
                      </p>
                  </div>
              </form>


          </div><!--  // .col-md-8  -->
          <div class="col-md-4"></div>
      </div><!--  // .row  -->
</div><!--  // .container  -->
{% endblock %}


{% block bottomjs %}
<script>

    let form = document.getElementById("add-partner-form");
    form.addEventListener('focus', function(event) {
        event.target.style.boxShadow = '0 0 1px 1px #ffa500';
    }, true);
    form.addEventListener('blur', function(event) {
        event.target.style.boxShadow = '';
    }, true);

$(document).ready(function(){

    $("#add-partner-form").validate({
        rules: {
            partner_email: {
                required: true,
                email: true
            },
            partner_confirm_email: {
                equalTo: "#partner_email"
            },
            partner_first_name: {
                minlength: 2,
                maxlength: 20,
                required: true
            },
            partner_last_name: {
                minlength: 2,
                maxlength: 30,
                required: true
            },
            partner_company: {
                minlength: 5,
                maxlength: 50,
                required: true
            },
            partner_phone: {
                required: true
            },
            partner_address: {
                required: true
            },
            partner_city: {
                required: true
            },
            partner_state: {
                required: true
            },
            partner_zip: {
                required: true
            },
            partner_passsword: {
                minlength: 6,
                maxlength: 10,
                required: true
            },
            partner_confirm_password: {
                equalTo: "#partner_password"
            },
            partner_auth_code: {
                required: true
            },
            agree: "required"
        },
        messages: {
            partner_email: {
                required: "*Please enter an email address",
                email: "*Please enter a valid email address"
            },
            partner_confirm_email: {
                equalTo: "*Please enter the same email address"
            },
            partner_first_name: {
                minlength: "*Please enter at least 2 characters",
                maxlength: "*Please enter less than 20 characters",
                required: "*Please enter the first name"
            },
            partner_last_name: {
              minlength: "*Please enter at least 2 characters",
              maxlength: "*Please enter less than 30 characters",
              required: "*Please enter the last name"
            },
            partner_company: {
              minlength: "*Please enter at least 5 characters",
              maxlength: "*Please enter less than 50 characters",
              required: "*Please enter the company name"
            },
            partner_phone: {
                required: "*Please enter a telephone number"
            },
            partner_address: {
                required: "*Please enter an address"
            },
            partner_city: {
                required: "*Please enter a city"
            },
            partner_state: {
                required: "*Please enter a state"
            },
            partner_zip: {
                required: "*Please enter a zip code"
            },
            partner_password: {
                minlength: "*Please enter at least 6 characters",
                maxlength: "*Please enter up to 10 characters",
                required: "*Please enter a password",
            },
            partner_confirm_password: {
                equalTo: "*Please enter the same password"
            },
            partner_auth_code: {
                required: "*Please enter the partner authorization code"
            },
            agree: "*Please accept our terms and conditions"
        },
        highlight: function(element) {
            var id_attr = "#" + $( element ).attr("id") + "1";
            $(element).closest('.form-group has-feedback').removeClass('has-success').addClass('has-error');
            $(id_attr).removeClass('glyphicon-ok').addClass('glyphicon-remove');
        },
        unhighlight: function(element) {
            var id_attr = "#" + $( element ).attr("id") + "1";
            $(element).closest('.form-group has-feedback').removeClass('has-error').addClass('has-success');
            $(id_attr).removeClass('glyphicon-remove').addClass('glyphicon-ok');
        },
        errorElement: 'span',
            errorClass: 'help-block',
            errorPlacement: function(error, element) {
                if(element.length) {
                    error.insertAfter(element);
                } else {
                error.insertAfter(element);
                }
            }
     });




});


</script>

{% endblock %}

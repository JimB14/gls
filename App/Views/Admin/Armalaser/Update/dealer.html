{% extends 'base-admin.html' %}

{% block title %}
  Update Dealer | ArmaLaser
{% endblock %}

{% block css %}
<style>
.form-control:focus {
  border-color: transparent !important;
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(255, 0, 0, 0.6);
}
</style>
{% endblock %}


{% block content %}
<div class="container-fluid">
    <div class="row">
        <div id="dashboard-toggle" class="col-md-8" style="margin-top:-20px;margin-left:254px;">

          <h2>Update Dealer</h2>
          <p style="margin-left: -10px;">
              <span class="glyphicon glyphicon-menu-left"></span>
              <a onclick="window.history.go(-1)" style="cursor:pointer;">
                  Go  Back
              </a>
          </p>
          <hr>

              <form name="update-dealer-form" id="update-dealer-form" class="form-horizontal"
                  action="/admin/dealers/update-dealer?id={{ dealer.id }}" method="post" >

                 <!-- honeypot -->
                 <input type="hidden" name="honeypot_register" id="honeypot_register">
                 <input type="hidden" name="type" value="dealer">

                 <div class="form-group has-feedback">
                     <label for="dealer_company" class="control-label col-sm-2">
                       Company
                     </label>
                     <div class="col-sm-8">
                         <input type="text" class="form-control" name="dealer_company"
                             id="dealer_company" placeholder="Company name" value="{{ dealer.company|raw }}">
                             <span class="glyphicon form-control-feedback" id="dealer_company1"></span>
                             <help><i>*How company will display on website.</i></help>
                     </div>
                 </div>

                  <div class="form-group has-feedback">
                      <label for="dealer_first_name" class="control-label col-sm-2">
                          First name
                      </label>
                      <div class="col-sm-8">
                          <input type="text" class="form-control" name="dealer_first_name"
                              id="dealer_first_name" placeholder="First name" value="{{ dealer.first_name }}">
                              <span class="glyphicon form-control-feedback" id="dealer_first_name1"></span>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="dealer_last_name" class="control-label col-sm-2">
                        Last name
                      </label>
                      <div class="col-sm-8">
                          <input type="text" class="form-control" name="dealer_last_name"
                              id="dealer_last_name" placeholder="Last name" value="{{ dealer.last_name }}">
                              <span class="glyphicon form-control-feedback" id="dealer_last_name1"></span>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="dealer_email" class="control-label col-sm-2">
                        Email
                      </label>
                      <div class="col-sm-8">
                          <input type="email" class="form-control email" name="dealer_email"
                              id="dealer_email" placeholder="user@example.com"
                              value="{{ dealer.email }}">
                              <span class="glyphicon form-control-feedback" id="dealer_email1"></span>
                              <help><i>*Serves also as login credential</i></help>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="dealer_phone" class="control-label col-sm-2">
                        Telephone
                      </label>
                      <div class="col-sm-8">
                          <input type="text" class="form-control" name="dealer_phone"
                              id="dealer_phone" placeholder="Telephone" value="{{ dealer.telephone }}">
                              <span class="glyphicon form-control-feedback" id="dealer_phone1"></span>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="dealer_address" class="control-label col-sm-2">
                        Address
                      </label>
                      <div class="col-sm-8">
                          <input type="text" class="form-control" name="dealer_address"
                              id="dealer_address" placeholder="Address" value="{{ dealer.address }}">
                              <span class="glyphicon form-control-feedback" id="dealer_address1"></span>
                              <help><i>*Will ship <u>only</u> to this address.</i></help>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="dealer_city" class="control-label col-sm-2">
                        City
                      </label>
                      <div class="col-sm-8">
                          <input type="text" class="form-control" name="dealer_city"
                              id="dealer_city" placeholder="City" value="{{ dealer.city }}">
                              <span class="glyphicon form-control-feedback" id="dealer_city1"></span>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="dealer_state"  class="control-label col-sm-2">State</label>
                      <div class="col-sm-8">
                          <select class="form-control required" id="dealer_state" name="dealer_state">
                              {% if dealer.state %}
                                <option value="{{ dealer.state }}">{{ dealer.state }}</option>
                              {% else %}
                                  <option value="">Select state</option>
                              {% endif %}
                              {% for state in states %}
                                  <option value="{{ state.name}}">{{ state.name }}</option>
                              {% endfor %}
                          </select>
                          <span class="glyphicon form-control-feedback" id="dealer_state1"></span>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="dealer_zip" class="control-label col-sm-2">
                        Zip code
                      </label>
                      <div class="col-sm-8">
                          <input type="text" class="form-control" name="dealer_zip"
                              id="dealer_zip" placeholder="Zip code" value="{{ dealer.zip }}">
                              <span class="glyphicon form-control-feedback" id="dealer_zip1"></span>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="dealer_website" class="control-label col-sm-2">
                        Website
                      </label>
                      <div class="col-sm-8">
                          <input type="text" class="form-control" name="dealer_website"
                              id="dealer_website" placeholder="e.g. www.mywebsite.com or mywebsite.com"
                                  value="{{ dealer.website }}">
                              <span class="glyphicon form-control-feedback" id="dealer_website1"></span>
                              <help><i>*Check carefully for spelling errors</i></help>
                      </div>
                  </div>

                  <div class="form-group has-feedback">
                      <label for="dealer_map_url" class="control-label col-sm-2">
                        Map URL
                      </label>
                      <div class="col-sm-8">
                          <input type="text" class="form-control" name="dealer_map_url"
                              id="dealer_map_url" placeholder=""
                                  value="{{ dealer.map_url }}">
                              <span class="glyphicon form-control-feedback" id="dealer_map_url1"></span>
                              <help>
                                  <span style="padding-right: 20px;">
                                      *<a class="newWindow" href="https://www.google.com/maps/place/{{ dealer.address }}+{{ dealer.city }}+{{ dealer.state }}+{{ dealer.zip }}" title="Search on Google">
                                          Search address on Google Maps
                                      </a>
                                      <span>(Click "SHARE" then "COPY LINK" to copy shortened URL)</span>
                                  </span>
                                  <br>
                                  <span>
                                      *<a class="newWindow" href="https://bitly.com/" title="Go to Bitly" target="_blank">
                                          Option: Shorten URL @ Bitly.com where URLs can be saved in your account (free)
                                      </a>
                                  </span>
                              </help>
                      </div>
                  </div>

                  <div class="col-sm-offset-2 col-sm-8">
                      <button id="registerBtn" type="submit" class="btn btn-lg btn-buy">
                          Update {{ dealer.company|raw }}
                      </button>
                  </div>
              </form>

          </div><!--  // .col-md-8  -->
      </div><!--  // .row  -->
</div><!--  // .container  -->
{% endblock %}


{% block bottomjs %}
<script>

    let form = document.getElementById("update-dealer-form");
    form.addEventListener('focus', function(event) {
        event.target.style.boxShadow = '0 0 1px 1px #ffa500';
    }, true);
    form.addEventListener('blur', function(event) {
        event.target.style.boxShadow = '';
    }, true);
</script>
{% endblock %}
